# BYO-SecAI (engine) / SPARK (UI) demo configuration
#
# This config is intentionally simple so it can be used as a stable
# source-of-truth when you regenerate packages.

# --- Template overrides (advanced) ---
# Optional: override the bundled templates folder (e.g., to swap ADS_Template.txt without code changes).
# Set to a folder path that contains your template files. Leave blank to use built-in templates.
template_dir_override: ""

# --- Contracts + Prompt Packs (advanced) ---
# Optional: point to a folder containing ./contracts and ./prompt_packs.
# Leave blank to use the bundled defaults.
contract_dir_override: ""
prompt_dir_override: ""
prompt_pack: "default"
contract_enforcement_mode: "strict"  # strict | warn | off
contract_regen_attempts: 2
intel_brief_contract_profile: "intel_brief_v1_2"
hunt_package_contract_profile: "threat_hunt_v1_0"
# --- Approval gate auto-correct (Phase 6.5.7) ---
# If enabled, strict approval will attempt to silently repair ONLY safe narrative fields
# (Gaps/Alternative/Appendix/MITRE) before blocking.
approval_autocorrect_enabled: true
approval_autocorrect_max_attempts: 2
# If still non-compliant after auto-correct, allow proceeding (fail-open) but show warnings.
approval_fail_open_after_autocorrect: true
# Prompt pack folder under byo_secai/prompt_packs/<pack>
approval_autocorrect_prompt_pack: "autocorrect"



# Hunt creation: mapping + glue + bounded auto-correct
hunt_glue_enabled: true
hunt_glue_prompt_pack: "hunt_v1"
hunt_autocorrect_enabled: true
hunt_autocorrect_max_attempts: 2
# If strict mode still fails after bounded auto-correct, allow proceeding (fail-open) but show warnings.
hunt_fail_open_after_autocorrect: true
hunt_autocorrect_prompt_pack: "hunt_v1"

# --- Plugin API keys (optional) ---
virustotal_api_key: ""
abuseipdb_api_key: ""
urlscan_api_key: ""

# --- IOC enrichment controls ---
# Default toggle state in the UI (Intel page)
enrich_iocs_default: false

# --- Domain guardrails ---
# Optional: point to a full IANA TLD list file (one TLD per line).
# If omitted, the app uses the bundled list under byo_secai/data/.
tld_allowlist_file: byo_secai/data/tlds-alpha-by-domain.txt

# --- Plugins ---
# IMPORTANT:
# - Disable yara_scanner by default (matches original project behavior).
# - Disable intel_fetcher by default to avoid BeautifulSoup dependency.
plugins:
  virustotal: true
  abuseipdb: true
  urlscan: true
  yara_scanner: false
  intel_fetcher: false

# --- Local models (optional reference list) ---
local_ollama_models:
  - llama3:latest
  - mistral:latest
  - phi:latest

# --- UX / Branding ---
app_title: "SPARK"
app_subtitle: "powered by BYO-SecAI"
report_footer: "Generated by SPARK (powered by BYO-SecAI)"

# --- Phase 6 (Local RAG) ---
rag_enabled: true
rag_top_k: 6
rag_chunk_chars: 1200
rag_overlap_chars: 200

# --- Phase 6.2 (Web Search) ---
web_enabled: false
web_provider: "duckduckgo"
web_max_results: 5
web_timeout_s: 15
bing_api_key: ""
tavily_api_key: ""
serpapi_api_key: ""


# --- Network (Proxy + TLS) ---
network:
  proxy:
    enabled: false
    mode: "off"   # off | env | explicit | winhttp
    http: ""
    https: ""
    no_proxy: ""
    username: ""
    password: ""
    test_url: "https://www.iana.org/"
  tls:
    verify: true
    ca_bundle_path: ""

# --- Web fetch fallbacks (safe-by-default) ---
web_enable_third_party_fetch_fallback: false
web_enable_js_rendered_page_ingestion: false

# --- Upload ingestion safety ---
allow_legacy_office_conversion: false
